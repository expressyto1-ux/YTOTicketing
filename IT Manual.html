<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ticketing System Manual — Preview</title>
  <style>
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      margin: 0;
      background: #f3f4f6;
      color: #111827;
    }

    header {
      display: flex;
      gap: 12px;
      align-items: center;
      padding: 12px 20px;
      background: white;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    }

    header h1 {
      font-size: 16px;
      margin: 0;
    }

    .controls {
      margin-left: auto;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      background: white;
      text-decoration: none;
      color: inherit;
      font-size: 13px;
    }

    .btn:active {
      transform: translateY(1px);
    }

    main {
      padding: 18px;
      display: flex;
      gap: 18px;
      height: calc(100vh - 72px);
      box-sizing: border-box;
    }

    .preview {
      flex: 1 1 65%;
      min-width: 300px;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 18px rgba(2, 6, 23, 0.08);
      display: flex;
      flex-direction: column;
    }

    .preview .frame {
      flex: 1 1 auto;
      height: 100%;
      border: 0;
    }

    .sidebar {
      width: 340px;
      min-width: 240px;
      max-width: 420px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .meta {
      background: white;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
    }

    label {
      font-size: 13px;
      color: #374151;
      display: block;
      margin-bottom: 6px;
    }

    .note {
      font-size: 13px;
      color: #6b7280;
    }

    .download-link {
      display: block;
      margin-top: 8px;
      font-weight: 600;
      text-decoration: none;
      color: #0f172a;
    }

    .small {
      font-size: 12px;
      color: #6b7280;
    }

    /* responsive */
    @media (max-width:900px) {
      main {
        flex-direction: column;
        height: auto;
        padding-bottom: 40px;
      }

      .sidebar {
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1>Ticketing System End User Manual — Preview</h1>
    <div class="controls">
      <a class="btn" id="openNew" target="_blank" href="Ticketing%20System%20IT%20Personnel%20Manual.pdf">Open PDF (new
        tab)</a>
      <a class="btn" id="downloadPdf" href="Ticketing%20System%20IT%20Personnel%20Manual.pdf" download>Download PDF</a>
      <button class="btn" id="printBtn">Print</button>
    </div>
  </header>

  <main>
    <section class="preview" aria-label="PDF preview">
      <!-- Use embed/iframe for wide compatibility. The src is relative so the PDF stays with the HTML file. -->
      <iframe class="frame" id="pdfFrame" src="Ticketing%20System%20IT%20Personnel%20Manual.pdf"
        title="Ticketing System Manual"></iframe>
    </section>

    <aside class="sidebar" aria-label="Document metadata and actions">
      <div class="meta">
        <strong>Document:</strong>
        <div class="small">Ticketing System End User Manual.pdf</div>
        <p class="note">This preview embeds the original PDF file so all images, layout and formatting remain intact.
        </p>
        <a class="download-link" href="Ticketing%20System%20IT%20Personnel%20Manual.pdf" download>Download original
          PDF</a>
      </div>

      <div class="meta">
        <label>Preview Controls</label>
        <div class="small">• Open in new tab — uses browser PDF viewer<br>• Download — saves original file<br>• Print —
          sends the PDF to browser print dialog</div>
      </div>

      <div class="meta">
        <label>Notes</label>
        <p class="small">If the embedded preview doesn't show in your browser, click "Open PDF (new tab)". For advanced
          features (page thumbnails, annotations), consider using PDF.js instead.</p>
      </div>

      <div class="meta">
        <label>File location (sandbox)</label>
        <div class="small">/mnt/data/Ticketing System End User Manual.pdf</div>
      </div>
    </aside>
  </main>

  <script>
    // Print button opens PDF in a new tab and triggers print (best cross-browser behavior)
    document.getElementById('printBtn').addEventListener('click', function () {
      const url = 'Ticketing%20System%20IT%20Personnel%20Manual.pdf';
      const w = window.open(url, '_blank');
      if (!w) { alert('Popup blocked — please allow popups for this page to print the PDF.'); return; }
      // Wait for load then print (best-effort)
      w.addEventListener('load', function () { try { w.print(); } catch (e) { console.log(e); } }, { once: true });
    });

    // If the iframe fails to load (some browsers block local file embedding), show a message
    const iframe = document.getElementById('pdfFrame');
    iframe.addEventListener('error', function () {
      iframe.parentElement.innerHTML = '<div style="padding:24px">Preview not available. Use the <strong>Open PDF (new tab)</strong> or <strong>Download PDF</strong> buttons.</div>';
    });
  </script>
</body>

</html>